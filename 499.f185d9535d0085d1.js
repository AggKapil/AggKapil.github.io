"use strict";(self.webpackChunkSN_Mart=self.webpackChunkSN_Mart||[]).push([[499],{499:(q,d,s)=>{s.r(d),s.d(d,{SellModule:()=>M});var i=s(6814),l=s(9310),t=s(4946),h=s(1573);let p=(()=>{class o{constructor(e){this.ps=e,this.products=[],this.getProduct()}getProduct(){this.products=this.ps.getProduct()}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(h.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-sell"]],decls:2,vars:0,consts:[[1,"sell-container"]],template:function(r,c){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[l.lC]})}return o})();var n=s(95),g=s(9851),Z=s(1863);function C(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",12),t.NdJ("click",function(){const m=t.CHM(e).index,U=t.oxw();return t.KtG(U.cs.deleteFromCart(m))}),t._uU(14,"Delete"),t.qZA()()()()}if(2&o){const e=u.$implicit;t.xp6(3),t.Oqu(e.cName),t.xp6(2),t.Oqu(e.cUnit),t.xp6(2),t.Oqu(e.cPrice),t.xp6(2),t.Oqu(e.cQuantity),t.xp6(2),t.Oqu(e.cTotal)}}function f(o,u){if(1&o&&(t.TgZ(0,"option",13),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=u.$implicit;t.s9C("value",e),t.xp6(1),t.hij("",t.lcZ(2,2,e)," ")}}const v=function(o){return{error:o}};let a=(()=>{class o{constructor(e,r){this.cs=e,this.userService=r,this.cartlist=[],this.paymentMethods=["Cash","Online","Due"],this.userForm=new n.cw({user:new n.NI("",[n.kI.required]),paymentMode:new n.NI("")}),this.cartlist=this.cs.getCart()}ngOnInit(){}calculateTotal(){return this.cartlist.reduce((e,r)=>e+r.cTotal,0)}orderPlaced(){if(this.userForm.valid){console.log("Sell button triggered"),console.log("hello",this.userForm.value),this.cartlist=this.cs.getCart(),console.log("Cart List",this.cartlist);const e={billNo:this.autoGenerateBillNumber(),date:new Date,user:this.userForm.value.user,paymentMode:this.userForm.value.paymentMode,orderHistory:this.cs.getCart(),totalAmount:this.calculateTotal()};this.userService.addSellDetail(e)}else console.error("Owner name is required",this.userForm.controls.user.valid)}autoGenerateBillNumber(){const e=new Date;return console.log(e),e.getDay()+"@"+e.getMonth()+"#"+e.getFullYear()+"%"+e.getHours()+"$"+e.getMinutes()+"&"+e.getSeconds()}cartOrderHistory(){this.cartlist=this.cs.getCart(),console.log("Cart List",this.cartlist)}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(g.N),t.Y36(Z.K))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart"]],decls:35,vars:7,consts:[[1,"cart-container"],[1,"header"],[1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"sellForm",3,"formGroup"],[1,""],["type","text","placeholder","Enter cart owner","formControlName","user",3,"ngClass"],["formControlName","paymentMode",1,"paymentMode-select"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(r,c){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"SN Mart Cart"),t.qZA()(),t.TgZ(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",3),t._uU(10,"Unit"),t.qZA(),t.TgZ(11,"th",3),t._uU(12,"Price"),t.qZA(),t.TgZ(13,"th",3),t._uU(14,"Qunatity"),t.qZA(),t.TgZ(15,"th",3),t._uU(16,"Total"),t.qZA(),t._UZ(17,"th",3),t.qZA()(),t.YNc(18,C,15,5,"tbody",4),t.qZA()(),t.TgZ(19,"div")(20,"div",5)(21,"form",6)(22,"div",7),t._UZ(23,"input",8),t.qZA(),t.TgZ(24,"div",7)(25,"select",9)(26,"option",10),t._uU(27,"Payment Method"),t.qZA(),t.YNc(28,f,3,4,"option",11),t.qZA()()(),t.TgZ(29,"div")(30,"h6"),t._uU(31),t.qZA()(),t.TgZ(32,"div")(33,"button",12),t.NdJ("click",function(){return c.orderPlaced()}),t._uU(34,"Sell"),t.qZA()()()()),2&r&&(t.xp6(18),t.Q6J("ngForOf",c.cartlist),t.xp6(3),t.Q6J("formGroup",c.userForm),t.xp6(2),t.Q6J("ngClass",t.VKq(5,v,c.userForm.controls.user.invalid&&(c.userForm.controls.user.dirty||c.userForm.controls.user.touched))),t.xp6(5),t.Q6J("ngForOf",c.paymentMethods),t.xp6(3),t.hij("Total Amount: ",c.calculateTotal(),""))},dependencies:[i.mk,i.sg,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u,i.rS],styles:[".cart-container[_ngcontent-%COMP%]{background-color:orange;height:400px;overflow:auto;padding-right:10x}.paymentMode-select[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:10px}.sellForm[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:2%}"]})}return o})();var y=s(6066);const T=[{path:"",component:p,children:[{path:"",component:a},{path:"cart",component:a},{path:"cart-list",component:(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart-list"]],decls:5,vars:0,consts:[[1,"sell-container"],[1,"product-container","border"],[1,"cart-container","border"]],template:function(r,c){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-show-product"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-cart"),t.qZA()())},dependencies:[y.l,a],styles:[".sell-container[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto auto;column-gap:1%}"]})}return o})()},{path:"sell",component:p}]}];let A=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]})}return o})();var F=s(2887);let M=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[i.ez,A,F.ProductModule,n.u5,n.UX]})}return o})()}}]);